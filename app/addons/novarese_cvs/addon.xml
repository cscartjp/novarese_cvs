<?xml version="1.0"?>
<addon scheme="3.0">
    <id>novarese_cvs</id>
    <version>0.0.1</version>
    <priority>100</priority>
    <position>1</position>
    <status>active</status>
    <default_language>ja</default_language>
    <auto_install>MULTIVENDOR,ULTIMATE</auto_install>
    
    <!-- アドオンの互換性 -->
    <compatibility>
        <core_version>
            <min>4.11.1</min>
        </core_version>
    </compatibility>
    
    <!-- アドオン設定項目 -->
    <settings>
        <sections>
            <section id="general">
                <items>
                    <item id="novarese_club_payment_method">
                        <type>selectbox</type>
                    </item>
                </items>
            </section>
        </sections>
    </settings>
    
    <!-- インストール/アンインストール用のSQLクエリ -->
    <queries>
        <!-- コンビニ決済固定フラグ -->
        <item for="install">
            ALTER TABLE `?:products` ADD COLUMN `cvs_fixed` CHAR(1) DEFAULT 'N';
        </item>
        
        <item for="uninstall">
            ALTER TABLE `?:products` DROP COLUMN `cvs_fixed`;
        </item>
    </queries>
    
    <!-- インストール/アンインストール用の関数 -->
    <functions>
        <item for="install">fn_novarese_cvs_install</item>
        <item for="uninstall">fn_novarese_cvs_uninstall</item>
    </functions>
</addon>